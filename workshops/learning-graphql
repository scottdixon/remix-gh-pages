<!DOCTYPE html><html lang="en" class="h-full"><head><meta charSet="utf-8"/><title>Learn how to call the GraphQL Admin API</title><meta name="description" content="Get started with the Admin API by making GraphQL queries and mutations."/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta property="og:type" content="website"/><meta property="og:image" content="https://workshops.shopify.dev/social-share-preview.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://workshops.shopify.dev/social-share-preview.jpg"/><meta name="twitter:creator" content="@ShopifyDevs"/><link rel="stylesheet" href="/build/_assets/tailwind-OSF3KDF6.css"/><link rel="stylesheet" href="/build/_assets/workshops-IXG5EJLE.css"/><link rel="stylesheet" href="/build/_assets/agate-YFU2QRW6.css"/></head><body class="h-full bg-slate-50"><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-86JJCZ26ZM"></script><script async="" id="gtag-init">
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
              </script><main><div class="workshop flex h-full w-full flex-row justify-between gap-0"><header class="fixed top-0 left-0 right-0 z-[2] flex flex-row-reverse items-center justify-end bg-white p-4 drop-shadow-md md:justify-between"><div class="hidden md:block timer"><p>40<!-- --> minutes remaining</p></div><h1>Learn how to call the GraphQL Admin API</h1><button class="btn-icon md:hidden" aria-label="Open step navigation"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg></button><a class="btn-icon hidden md:block" arial-label="Go back to workshops" href="/"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-5 w-5"><path d="M19 9H3.661l5.997-5.246a1 1 0 00-1.316-1.506l-8 7c-.008.007-.011.018-.019.025a.975.975 0 00-.177.24c-.018.03-.045.054-.059.087a.975.975 0 000 .802c.014.033.041.057.059.088.05.087.104.17.177.239.008.007.011.018.019.025l8 7a.996.996 0 001.411-.095 1 1 0 00-.095-1.411L3.661 11H19a1 1 0 000-2z"></path></svg></a></header>
<div class="workshop-nav flex shrink-0 flex-col gap-2 bg-slate-50"><a class="flex select-none items-center rounded-md px-4 pb-2 leading-snug md:hidden" href="/"><svg width="8.4" height="12" viewBox="0 0 7 10" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.30326 0.403358C5.108 0.208096 4.79142 0.208096 4.59615 0.403358L1.06062 3.93889L0.353513 4.646C0.158251 4.84126 0.158251 5.15784 0.353513 5.35311L1.06062 6.06021L4.59615 9.59575C4.79142 9.79101 5.108 9.79101 5.30326 9.59575L6.01037 8.88864C6.20563 8.69338 6.20563 8.37679 6.01037 8.18153L2.82839 4.99955L6.01037 1.81757C6.20563 1.62231 6.20563 1.30573 6.01037 1.11046L5.30326 0.403358Z" fill="currentColor"></path></svg><span class="pl-2">Workshops</span></a><hr class="md:hidden"/><div class="flex select-none items-center rounded-md py-4 px-4 leading-snug md:hidden timer"><p>40<!-- --> minutes remaining</p></div><a href="#0" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug font-medium"><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-emerald-500">1</span>Before you begin</a><a href="#1" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">2</span>Install GraphiQL</a><a href="#2" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">3</span>Build your first query</a><a href="#3" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">4</span>Expanding your query</a><a href="#4" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">5</span>Query for a list Products</a><a href="#5" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">6</span>Introducing Query Parameters and Variables</a><a href="#6" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">7</span>Create a metafield for a product</a><a href="#7" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">8</span>Using curl</a><a href="#8" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">9</span>Using Postman</a><a href="#9" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">10</span>Conclusion</a></div><div class="backdrop fixed inset-0"></div>
<div class="slider-wrapper"><div class="slider-panel"><div class="workshop-step"><section><h2 id="0">Before you begin</h2><p>This workshop is for developers who are looking to learn the fundamentals of how to use GraphQL in the context of the Shopify Admin API. We will cover the structure of an API call to a GraphQL API then demonstrate how to access and modify data within a store. We will primarily use <a href="https://github.com/graphql/graphiql">GraphiQL</a> to execute our calls, but we will also show examples of how to execute them in a client like <a href="https://www.postman.com/">Postman</a> or <a href="https://curl.se/">curl</a>.</p><h3>What you’ll learn</h3><ul>
<li>How to build and use a basic GraphQL query (Read operations)</li>
<li>How to build and use a GraphQL mutation (Write operations)</li>
<li>How to use input variables</li>
<li>How to use Graphiql, curl and Postman to execute the queries and mutations</li>
</ul><h3>What you&#x27;ll need</h3><ul>
<li>A Shopify Partner account. If you don’t have one, you can create a <a href="https://partners.shopify.com/signup">free Shopify partner account</a>.</li>
<li>A development store with demo products. If you don’t have a development store, we suggest that you <a href="https://shopify.dev/docs/apps/tools/development-stores#create-a-development-store-to-test-your-app">create a new one with pre-populated data</a>.</li>
</ul><aside class="callout callout-positive border-green-500 bg-green-50 rounded-md border-l-4  p-4"><dt>Positive</dt><dd>For more information on GraphQL itself, learn more on <a href="https://graphql.org/">graphql.org</a>.</dd></aside></section></div></div><div class="slider-controls"><button class="slider-control btn btn-small btn-tertiary-outline prev shadow-md invisible" disabled="">Back</button><button class="slider-control btn btn-small btn-tertiary next shadow-md ">Next</button></div></div></div></main><script>((STORAGE_KEY, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({
        key
      }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(STORAGE_KEY) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(STORAGE_KEY);
    }
  })("positions", null)</script><link rel="modulepreload" href="/build/entry.client-J6TYPMOL.js"/><link rel="modulepreload" href="/build/_shared/chunk-YZBVNK3V.js"/><link rel="modulepreload" href="/build/_shared/chunk-SH7JW3YP.js"/><link rel="modulepreload" href="/build/_shared/chunk-GDLBX7ER.js"/><link rel="modulepreload" href="/build/_shared/chunk-Q3IECNXJ.js"/><link rel="modulepreload" href="/build/_shared/chunk-JOBPDGDE.js"/><link rel="modulepreload" href="/build/_shared/chunk-MV3Y6IQI.js"/><link rel="modulepreload" href="/build/root-TS7GWK7I.js"/><link rel="modulepreload" href="/build/routes/workshops-YWZAAF22.js"/><link rel="modulepreload" href="/build/_shared/chunk-4QTFVEPO.js"/><link rel="modulepreload" href="/build/routes/workshops/$workshopId-TCVFMZD7.js"/><script>window.__remixContext = {"url":"/workshops/learning-graphql","state":{"loaderData":{"root":{"trackingEnabled":true},"routes/workshops/$workshopId":{"workshopId":"learning-graphql","code":"var Component=(()=\u003e{var d=Object.create;var c=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var g=(s,n)=\u003e()=\u003e(n||s((n={exports:{}}).exports,n),n.exports),y=(s,n)=\u003e{for(var l in n)c(s,l,{get:n[l],enumerable:!0})},i=(s,n,l,t)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let e of m(n))!N.call(s,e)\u0026\u0026e!==l\u0026\u0026c(s,e,{get:()=\u003en[e],enumerable:!(t=u(n,e))||t.enumerable});return s};var f=(s,n,l)=\u003e(l=s!=null?d(j(s)):{},i(n||!s||!s.__esModule?c(l,\"default\",{value:s,enumerable:!0}):l,s)),w=s=\u003ei(c({},\"__esModule\",{value:!0}),s);var r=g((A,h)=\u003e{h.exports=_jsx_runtime});var k={};y(k,{default:()=\u003eq,frontmatter:()=\u003eb});var a=f(r()),b={id:\"learning-graphql\",title:\"Learn how to call the GraphQL Admin API\",summary:\"Get started with the Admin API by making GraphQL queries and mutations.\",status:\"Published\",categories:\"shopify,graphql\"};function p(s){let n=Object.assign({timer:\"timer\",h1:\"h1\",nav:\"nav\",\"workshop-steps\":\"workshop-steps\",div:\"div\",section:\"section\",h2:\"h2\",p:\"p\",a:\"a\",h3:\"h3\",ul:\"ul\",li:\"li\",dl:\"dl\",dt:\"dt\",dd:\"dd\",img:\"img\",code:\"code\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\"},s.components),l=n[\"workshop-steps\"],{WorkshopHeader:t,WorkshopNavLink:e}=n;return t||o(\"WorkshopHeader\",!0),e||o(\"WorkshopNavLink\",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t,{children:[(0,a.jsx)(n.timer,{cssClass:\"hidden md:block\",children:'{\"total\":40,\"stepsDuration\":{\"1\":3,\"2\":3,\"3\":5,\"4\":3,\"5\":10,\"6\":5,\"7\":5,\"8\":3,\"9\":3},\"countDown\":[]}'}),(0,a.jsx)(n.h1,{children:\"Learn how to call the GraphQL Admin API\"})]}),`\n`,(0,a.jsxs)(n.nav,{children:[(0,a.jsx)(n.timer,{cssClass:\"flex select-none items-center rounded-md py-4 px-4 leading-snug md:hidden\",children:'{\"total\":40,\"stepsDuration\":{\"1\":3,\"2\":3,\"3\":5,\"4\":3,\"5\":10,\"6\":5,\"7\":5,\"8\":3,\"9\":3},\"countDown\":[]}'}),(0,a.jsx)(e,{stepStr:\"0\",children:\"Before you begin\"}),(0,a.jsx)(e,{stepStr:\"1\",children:\"Install GraphiQL\"}),(0,a.jsx)(e,{stepStr:\"2\",children:\"Build your first query\"}),(0,a.jsx)(e,{stepStr:\"3\",children:\"Expanding your query\"}),(0,a.jsx)(e,{stepStr:\"4\",children:\"Query for a list Products\"}),(0,a.jsx)(e,{stepStr:\"5\",children:\"Introducing Query Parameters and Variables\"}),(0,a.jsx)(e,{stepStr:\"6\",children:\"Create a metafield for a product\"}),(0,a.jsx)(e,{stepStr:\"7\",children:\"Using curl\"}),(0,a.jsx)(e,{stepStr:\"8\",children:\"Using Postman\"}),(0,a.jsx)(e,{stepStr:\"9\",children:\"Conclusion\"})]}),`\n`,(0,a.jsxs)(l,{children:[(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"0\",children:\"Before you begin\"}),(0,a.jsxs)(n.p,{children:[\"This workshop is for developers who are looking to learn the fundamentals of how to use GraphQL in the context of the Shopify Admin API. We will cover the structure of an API call to a GraphQL API then demonstrate how to access and modify data within a store. We will primarily use \",(0,a.jsx)(n.a,{href:\"https://github.com/graphql/graphiql\",children:\"GraphiQL\"}),\" to execute our calls, but we will also show examples of how to execute them in a client like \",(0,a.jsx)(n.a,{href:\"https://www.postman.com/\",children:\"Postman\"}),\" or \",(0,a.jsx)(n.a,{href:\"https://curl.se/\",children:\"curl\"}),\".\"]}),(0,a.jsx)(n.h3,{children:\"What you\\u2019ll learn\"}),(0,a.jsxs)(n.ul,{children:[`\n`,(0,a.jsx)(n.li,{children:\"How to build and use a basic GraphQL query (Read operations)\"}),`\n`,(0,a.jsx)(n.li,{children:\"How to build and use a GraphQL mutation (Write operations)\"}),`\n`,(0,a.jsx)(n.li,{children:\"How to use input variables\"}),`\n`,(0,a.jsx)(n.li,{children:\"How to use Graphiql, curl and Postman to execute the queries and mutations\"}),`\n`]}),(0,a.jsx)(n.h3,{children:\"What you'll need\"}),(0,a.jsxs)(n.ul,{children:[`\n`,(0,a.jsxs)(n.li,{children:[\"A Shopify Partner account. If you don\\u2019t have one, you can create a \",(0,a.jsx)(n.a,{href:\"https://partners.shopify.com/signup\",children:\"free Shopify partner account\"}),\".\"]}),`\n`,(0,a.jsxs)(n.li,{children:[\"A development store with demo products. If you don\\u2019t have a development store, we suggest that you \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/apps/tools/development-stores#create-a-development-store-to-test-your-app\",children:\"create a new one with pre-populated data\"}),\".\"]}),`\n`]}),(0,a.jsxs)(n.dl,{children:[(0,a.jsx)(n.dt,{children:\"Positive\"}),(0,a.jsxs)(n.dd,{children:[\"For more information on GraphQL itself, learn more on \",(0,a.jsx)(n.a,{href:\"https://graphql.org/\",children:\"graphql.org\"}),\".\"]})]})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"1\",children:\"Install GraphiQL\"}),(0,a.jsxs)(n.p,{children:[\"GraphiQL is an \",(0,a.jsx)(n.a,{href:\"https://github.com/graphql/graphiql\",children:\"open source project\"}),\" under the GraphQL Foundation. It is a web-based tool which allows you to write GraphQL queries with autocompletion then execute those queries against production APIs.\"]}),(0,a.jsx)(n.p,{children:\"Shopify provides a version of GraphiQL packaged as an app which can be installed to a Shopify store. This version has built-in helpers to authenticate to the Shopify Admin API so it's easy to test queries on live data without any complicated setup.\"}),(0,a.jsxs)(n.p,{children:[\"Let's \",(0,a.jsx)(n.a,{href:\"https://shopify-graphiql-app.shopifycloud.com/login\",children:\"install the GraphiQL app\"}),\". Pick where to install the app by entering the name of your test store.\"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql/graphiql-installer.jpg\",alt:\"Enter your store name here.\"})}),(0,a.jsxs)(n.p,{children:[\"If you're using a developer store as we recommended, feel free to select as many scopes as you'd like so that you can try other queries and mutations not covered in this workshop. At the very least, ensure you select the scopes to read and write products. To learn more about scopes, check out our documentation over on \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/usage/access-scopes\",children:\"shopify.dev\"}),\".\"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql/graphiql-scopes.jpg\",alt:\"GraphiQL Scopes\"})}),(0,a.jsx)(n.p,{children:\"Once you've installed the app, you'll see it embedded in your store admin dashboard.\"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/graphiql-embedded.png\",alt:\"GraphiQL Embedded\"})}),(0,a.jsxs)(n.dl,{children:[(0,a.jsx)(n.dt,{children:\"Positive\"}),(0,a.jsx)(n.dd,{children:\"Consider pinning the app to your navigation menu for easy access later.\"})]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql//graphiql-pinned.jpg\",alt:\"GraphiQL Pinned\"})})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"2\",children:\"Build your first query\"}),(0,a.jsxs)(n.p,{children:[\"We'll be running queries against the Shopify Admin API, so make sure you have the \",(0,a.jsx)(n.code,{children:\"Admin\"}),\" API Schema selected at the top of GraphiQL along with the \",(0,a.jsx)(n.code,{children:\"(Latest)\"}),\" API version.\"]}),(0,a.jsx)(n.p,{children:\"Once we have our schema selected, we can query for our shop's name. Enter the following query into the left-hand side of GraphiQL, making sure to overwrite anything that might already be there.\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  shop `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    name\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"In this example, the first term defines which specific query we would like to call - \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/latest/queries/shop\",children:(0,a.jsx)(n.code,{children:\"shop\"})}),\". One of the main differences between GraphQL and REST is that GraphQL requires you to specify the exact fields which you'd like to retrieve. In this case the \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/latest/objects/Shop\",children:\"Shop object\"}),\" contains many fields, we have only specified the \",(0,a.jsx)(n.code,{children:\"name\"}),\" field to be returned.\"]}),(0,a.jsx)(n.p,{children:'To run the query, press the large triangular \"play\" button in the top-left of GraphiQL.'}),(0,a.jsxs)(n.p,{children:[\"You will see a response on the right with your store's name. The response will always be a JSON object where the response-specific data can be found in the \",(0,a.jsx)(n.code,{children:\"data\"}),\" property, along with information about your query cost in the \",(0,a.jsx)(n.code,{children:\"extensions\"}),\" property. For more information on query costs and rate limits, take a look at our \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/usage/rate-limits\",children:\"documentation on rate-limits\"}),\".\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"shop\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"name\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"graphql-workshop\"'}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"cost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"requestedQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"actualQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"throttleStatus\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"maximumAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1000\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"currentlyAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"999\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"restoreRate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"50\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/shop-query.png\",alt:\"Shop Query\"})}),(0,a.jsxs)(n.p,{children:[\"You can return more data by specifying the fields you want on new lines within the same query. For example, we can also query for the \",(0,a.jsx)(n.code,{children:\"contactEmail\"}),\" and \",(0,a.jsx)(n.code,{children:\"url\"}),\" for our store.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  shop `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    name\n    contactEmail\n    url\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"You'll notice GraphiQL tries to autocomplete these fields as you type, so feel free to play around and add other data you're like to read.\"}),(0,a.jsx)(n.p,{children:\"With the query as-is, you will see a response like this.\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"shop\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"name\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"graphql-workshop\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"contactEmail\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"graphql@graphql-workshop.com\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"url\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"https://graphql-workshop.myshopify.com\"'}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"cost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"requestedQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"actualQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"throttleStatus\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"maximumAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1000\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"currentlyAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"999\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"restoreRate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"50\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"Take some time now to explore the \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/latest/objects/Shop\",children:(0,a.jsx)(n.code,{children:\"Shop\"})}),\" object and modify your query to return different results.\"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/graphiql-explore.png\",alt:\"GraphiQL Explore\"})}),(0,a.jsxs)(n.dl,{children:[(0,a.jsx)(n.dt,{children:\"Positive\"}),(0,a.jsxs)(n.dd,{children:[\"When using GraphiQL, you can use \",(0,a.jsx)(n.code,{children:\"CTRL+Space\"}),\" to see all the available fields. You can also use the Documentation Explorer on the right of the screen to see more information in addition to the documentation on \",(0,a.jsx)(n.a,{href:\"https://shopify.dev\",children:\"Shopify.dev\"}),\".\"]})]})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"3\",children:\"Expanding your query\"}),(0,a.jsxs)(n.p,{children:[\"Currently, our query only returns fields on the base \",(0,a.jsx)(n.code,{children:\"Shop\"}),\" object that we have queried for, this is similar to a REST endpoint which correlates to a specific object in a database. However, in the GraphQL APIs, we often have many objects which are linked and can be queried together. Just like before, you have to be specific about what data you'd like to have included in the response. Let's modify our query to return the billing address.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  shop `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    name\n    billingAddress `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      address1\n      city\n      province\n      country\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"The \",(0,a.jsx)(n.code,{children:\"billingAddress\"}),\" field is an object of type \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/2022-04/objects/MailingAddress\",children:(0,a.jsx)(n.code,{children:\"MailingAddress\"})}),\" and, just like our base \",(0,a.jsx)(n.code,{children:\"Shop\"}),\" object, we need to specify the fields we'd like to retrieve. Running this query we can see our data is returned in a hierarchical structure similar to our query.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"shop\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"name\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"graphql-workshop\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"billingAddress\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"address1\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"123 University Ave\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"city\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Toronto\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"province\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Ontario\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"country\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Canada\"'}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"cost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"requestedQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"2\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"actualQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"2\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"throttleStatus\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"maximumAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1000\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"currentlyAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"998\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"restoreRate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"50\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"Queries are often deeply nested with fields being read from a variety of connected object types. The ability to construct queries which retrieve complex data structures is the power of GraphQL. If we were using a REST API we would need to perform many API calls to retrieve all the connected data, however in GraphQL we can do it in just one.\"})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"4\",children:\"Query for a list Products\"}),(0,a.jsxs)(n.p,{children:[\"Now that we've covered how to query for a nested object, let's try querying for a list of objects. In this example, we will be using the \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/2022-04/queries/products\",children:(0,a.jsx)(n.code,{children:\"products\"})}),\" query. Copy the following query into GraphiQL:\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  products `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    description\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"If you run this query as is, you will get the following error:\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"errors\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"message\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:`\"Field 'description' doesn't exist on type 'ProductConnection'\"`}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"locations\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"line\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"3\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"column\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"5\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"path\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"query\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"products\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"description\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"code\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"undefinedField\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"typeName\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"ProductConnection\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"fieldName\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"description\"'}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"This error is returned because the \",(0,a.jsx)(n.code,{children:\"products\"}),\" query returns a \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/2022-04/connections/ProductConnection\",children:(0,a.jsx)(n.code,{children:\"ProductConnection\"})}),\" result, not just a list of \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/admin-graphql/2022-04/objects/Product\",children:(0,a.jsx)(n.code,{children:\"Product\"})}),\" objects as we might expect.\"]}),(0,a.jsx)(n.p,{children:\"A corrected query looks like this:\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  products`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"first\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"5\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    edges `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      node `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        id\n        title\n        productType\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"But why is it so complicated? In GraphQL a \",(0,a.jsx)(n.code,{children:\"Connection\"}),\" (like the one returned from the \",(0,a.jsx)(n.code,{children:\"products\"}),\" query) is a special wrapper which allows us to query for lists of objects in a safe way. The \",(0,a.jsx)(n.code,{children:\"Connection\"}),' provides extra logic which allow us to limit the number of results we get and then request subsequent \"pages\" of results. For example, we may limit our query to the first five results, then later we could perform another query for the next five results, and so on. We will not cover this practice, called \"cursor-based pagination\", in detail here, but you can read more on our ',(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/usage/pagination-graphql\",children:\"cursor-based pagination documentation\"}),\".\"]}),(0,a.jsxs)(n.p,{children:[\"The important element to understand is that any time you're using a \",(0,a.jsx)(n.code,{children:\"Connection\"}),' in a GraphQL query you will not be given a list of objects, but instead a list of \"connections\". A connection is a pair of edges (imagine this as the line drawn between two connected objects) and nodes (the actual object on the other end of that line). In other words, to retrieve the product data we need to query the connector which returns a list of edges which have fields which point to the actual nodes (objects) which have the data we want.']}),(0,a.jsx)(n.p,{children:\"Once we have traversed the connector, edges, and nodes then we can finally read the actual fields which we required from the products in our list.\"}),(0,a.jsx)(n.p,{children:\"Running the query above will give you a response similar to this:\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"products\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"edges\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890123\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Jacket\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"top\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890122\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Jeans\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"bottom\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890121\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Shirt\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"top\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890124\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Pencil Skirt\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"bottom\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890125\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Hat\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"accessory\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"cost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"requestedQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"4\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"actualQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"4\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"throttleStatus\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"maximumAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1000\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"currentlyAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"996\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"restoreRate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"50\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"5\",children:\"Introducing Query Parameters and Variables\"}),(0,a.jsxs)(n.p,{children:[\"Let's update our query so that we get a list of the products with the \",(0,a.jsx)(n.code,{children:\"productType\"}),' of \"top\". We can do this by including a ',(0,a.jsx)(n.code,{children:\"query\"}),\" parameter into the call to \",(0,a.jsx)(n.code,{children:\"products\"}),\":\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  products`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"first\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"5\"}),\", \",(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"query\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"product_type:top\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    edges `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      node `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        id\n        title\n        productType\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"Running this query will return a list of products which fit the query we specified.\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"products\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"edges\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890123\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Jacket\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"top\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890121\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Shirt\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"top\"'}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"cost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"requestedQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"4\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"actualQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"4\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"throttleStatus\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"maximumAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1000\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"currentlyAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"996\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"restoreRate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"50\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.dl,{children:[(0,a.jsx)(n.dt,{children:\"Negative\"}),(0,a.jsxs)(n.dd,{children:[\"If you do not receive any results, check your Admin dashboard and ensure you have products with \",(0,a.jsx)(n.code,{children:\"productType\"}),\" set to \",(0,a.jsx)(n.code,{children:\"top\"}),\".\"]})]}),(0,a.jsxs)(n.p,{children:[\"In our query we included both a \",(0,a.jsx)(n.code,{children:\"limit\"}),\" and \",(0,a.jsx)(n.code,{children:\"query\"}),\" parameter, so it will return at most five items. In our case, we only had two objects which matched the query so that is all that was returned.\"]}),(0,a.jsx)(n.p,{children:\"Next we'll need to give our query a name. Naming a query allows us to create query variables and it also enables easier logging and debugging later on.\"}),(0,a.jsxs)(n.p,{children:[\"Let's refactor our query so that it has a name, and takes in two query variables. We'll start by naming our query \",(0,a.jsx)(n.code,{children:\"topProducts\"}),\", and introducing two variables: \",(0,a.jsx)(n.code,{children:\"numberOfProducts\"}),\" and \",(0,a.jsx)(n.code,{children:\"queryParams\"}),\". We will also reference those variables in the \",(0,a.jsx)(n.code,{children:\"products\"}),\" query.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-keyword\",children:\"query\"}),\" topProducts\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$numberOfProducts\"}),\": Int\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"!\"}),\", \",(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$queryParams\"}),\": String\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  products`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"first\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$numberOfProducts\"}),\", \",(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"query\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$queryParams\"}),\") \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    edges `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      node `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        id\n        title\n        productType\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"You'll notice our query definition is beginning to look like a function definition in a regular programming language. We can pass variables then use those values later in our query, how helpful!\"}),(0,a.jsxs)(n.p,{children:[\"When we specify parameters, we need to include data types. In our case we have an \",(0,a.jsx)(n.code,{children:\"Int!\"}),\" and a \",(0,a.jsx)(n.code,{children:\"String\"}),\". The \",(0,a.jsx)(n.code,{children:\"!\"}),\" part of \",(0,a.jsx)(n.code,{children:\"Int!\"}),\" means that \",(0,a.jsx)(n.code,{children:\"numberOfProducts\"}),\" is required, whereas the \",(0,a.jsx)(n.code,{children:\"queryParams\"}),\" (which lacks the \",(0,a.jsx)(n.code,{children:\"!\"}),\") is optional. You will also see that the variables have been passed along to the \",(0,a.jsx)(n.code,{children:\"products\"}),\" query itself.\"]}),(0,a.jsx)(n.p,{children:\"The last thing we need to do is to actually give our variables some values. In GraphiQL, we do this by opening the Query Variables pane that is collapsed in the lower left-hand corner. Drag that open and then give values to the variables by providing a JSON payload:\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"numberOfProducts\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"5\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"queryParams\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"product_type:top\"'}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/query-params.png\",alt:\"Query Params\"})}),(0,a.jsxs)(n.p,{children:[\"Finally, check that everything is set up correctly by running the query again and getting the same results. Once you have your list again, pick a product at random and copy the \",(0,a.jsx)(n.code,{children:\"id\"}),\" field. We'll use it in the next step.\"]}),(0,a.jsxs)(n.dl,{children:[(0,a.jsx)(n.dt,{children:\"Positive\"}),(0,a.jsxs)(n.dd,{children:[\"Check out our documentation on our \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/usage/search-syntax\",children:\"query / search syntax\"}),\" and the \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/admin-graphql/2023-01/queries/products\",children:(0,a.jsx)(n.code,{children:\"products\"})}),\" query to learn more about how you can filter results.\"]})]})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"6\",children:\"Create a metafield for a product\"}),(0,a.jsxs)(n.p,{children:[\"Besides querying (reading) data, the other main action for GraphQL is mutations (writing data). In this example, we will add a new \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/latest/objects/Metafield\",children:(0,a.jsx)(n.code,{children:\"Metafield\"})}),\" to a product using the \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/latest/mutations/productUpdate\",children:(0,a.jsx)(n.code,{children:\"productUpdate\"})}),\" mutation.\"]}),(0,a.jsx)(n.p,{children:\"Let's clear out our existing query and start fresh. This time we'll begin by naming our query and invoking the mutation.\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-keyword\",children:\"mutation\"}),\" createProductMetafield\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$input\"}),\": ProductInput\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"!\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  productUpdate`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"input\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$input\"}),\") \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"The \",(0,a.jsx)(n.code,{children:\"productUpdate\"}),\" mutation expects an input variable with the type \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/admin-graphql/latest/input-objects/ProductInput\",children:(0,a.jsx)(n.code,{children:\"ProductInput\"})}),\". This is an input object that is specific to Shopify. The object requires a way to identify the product you wish to update as well as the specific information you wish to change. So, let's use the data that we previously queried for to fill this out. Add the following as the query variables in GraphiQL, replacing the value for \",(0,a.jsx)(n.code,{children:\"id\"}),\" with the id you copied from our query in the last step.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"input\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"id\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"gid://shopify/Product/1234567890123\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"metafields\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"namespace\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"instructions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"key\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"wash\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"value\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"cold wash\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"type\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"single_line_text_field\"'}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"You'll notice that if you try to run this mutation as is, you will get an error. It is good practice to return data which validates that your mutation was applied. The mutation enforces this and will error without it, so let's return some of our Metafields so we can ensure that our new one is added.\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-gql\",children:[(0,a.jsx)(n.span,{className:\"hljs-keyword\",children:\"mutation\"}),\" createProductMetafield\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$input\"}),\": ProductInput\",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"!\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  productUpdate`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"input\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-variable\",children:\"$input\"}),\") \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    product `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      title\n      metafields`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"hljs-symbol\",children:\"first\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"100\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        edges `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          node `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            namespace\n            key\n            value\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"The \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/admin-graphql/2023-01/payloads/ProductUpdatePayload#field-productupdatepayload-product\",children:(0,a.jsx)(n.code,{children:\"ProductUpdatePayload\"})}),\" documentation shows that the \",(0,a.jsx)(n.code,{children:\"productUpdate\"}),\" mutation returns a \",(0,a.jsx)(n.code,{children:\"product\"}),\" field and a \",(0,a.jsx)(n.code,{children:\"userErrors\"}),\" field. We can ignore the \",(0,a.jsx)(n.code,{children:\"userErrors\"}),\" for now and just read the product ID along with data about the Metafields.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-json\",children:[(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productUpdate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"product\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"title\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Jacket\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"productType\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"top\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"metafields\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"edges\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n              `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"node\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n                `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"namespace\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"instructions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n                `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"key\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"wash\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n                `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"value\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"cold wash\"'}),`\n              `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n            `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n          `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"]\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"extensions\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"cost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"requestedQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"112\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"actualQueryCost\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"13\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"throttleStatus\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"maximumAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"1000\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"currentlyAvailable\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"987\"}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,a.jsx)(n.span,{className:\"hljs-attr\",children:'\"restoreRate\"'}),(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,a.jsx)(n.span,{className:\"hljs-number\",children:\"50\"}),`\n      `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(n.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,a.jsxs)(n.p,{children:[\"Notice how the \",(0,a.jsx)(n.code,{children:\"metafields\"}),\" field uses the same \",(0,a.jsx)(n.code,{children:\"edges\"}),\" and \",(0,a.jsx)(n.code,{children:\"node\"}),\" construct as before. This is because it is also a \",(0,a.jsx)(n.code,{children:\"Connection\"}),\". We are paginating the list of metafields by specifying \",(0,a.jsx)(n.code,{children:\"first:100\"}),\", but we could also use a cursor here. However, since \",(0,a.jsx)(n.code,{children:\"metafields\"}),\" is a connection on \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/api/admin-graphql/2023-01/objects/Product\",children:\"Product\"}),\" and not a query itself, we would not be able to specify a \",(0,a.jsx)(n.code,{children:\"query\"}),\".\"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql/metafield-added.jpg\",alt:\"Metafield Added\"})}),(0,a.jsxs)(n.dl,{children:[(0,a.jsx)(n.dt,{children:\"Positive\"}),(0,a.jsxs)(n.dd,{children:[\"For more information about the uses of Metafields, see the \",(0,a.jsx)(n.a,{href:\"https://shopify.dev/docs/apps/custom-data/metafields\",children:\"Metafield documentation on Shopify.dev\"})]})]})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"7\",children:\"Using curl\"}),(0,a.jsx)(n.p,{children:`GraphQL queries and mutations can also be executed through the command line using a tool such as curl. In order to do so, we'll need to use an authentication token to validate our calls to our development store. Start the process by logging into your development store, clicking on the Apps menu, and then clicking into \"App and sales channel settings\".`}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql/app-and-sales-channel.jpg\",alt:\"App and sales channel\"})}),(0,a.jsx)(n.p,{children:'Click into \"Develop apps\", and then \"Create an app\".'}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql/create-an-app.jpg\",alt:\"Create an app\"})}),(0,a.jsxs)(n.p,{children:[`Give your app a name, and then click on \"Create app\". Once the app is created, go to the Configuration menu and add as many access scopes as you'd like, but making sure to at least check off `,(0,a.jsx)(n.code,{children:\"write_products\"}),\" and \",(0,a.jsx)(n.code,{children:\"read_products\"}),\" like before. Click save at the top right of this page.\"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/optimized/learning-graphql/app-config.jpg\",alt:\"App config\"})}),(0,a.jsxs)(n.p,{children:[\"Next, go to your API credentials. Here you will find your Admin API access token, which will allow you to authenticate the calls you make from either a tool like curl, Postman or from your code. Reveal this access token and save it locally, but bear in mind that you can only view this token through the Shopify admin \",(0,a.jsx)(n.strong,{children:\"once\"}),\", so make sure to keep it somewhere safe. Make sure to \",(0,a.jsx)(n.strong,{children:\"never\"}),\" share this API access token with anyone, since it can be used to modify the data with your store.\"]}),(0,a.jsxs)(n.p,{children:[\"Now that we have our API access token, we can build our curl command. Using the template below, replace the placeholder values (\",(0,a.jsx)(n.code,{children:\"{your_store_name}\"}),\", \",(0,a.jsx)(n.code,{children:\"{latest_api_version}\"}),\", and\",(0,a.jsx)(n.code,{children:\"{access_token}\"}),\") with your respective values. Remember to not include the brace brackets for the shop and access token.\"]}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-bash\",children:[`curl -X POST \\\\\nhttps://{your_store_name}.myshopify.com/admin/api/{latest_api_version}/graphql.json \\\\\n-H `,(0,a.jsx)(n.span,{className:\"hljs-string\",children:\"'Content-Type: application/graphql'\"}),` \\\\\n-H `,(0,a.jsx)(n.span,{className:\"hljs-string\",children:\"'X-Shopify-Access-Token: {access_token}'\"}),` \\\\\n-d `,(0,a.jsx)(n.span,{className:\"hljs-string\",children:\"'{ shop { name } }'\"}),`\n`]})}),(0,a.jsx)(n.p,{children:\"Running this command will give you the same response as you had earlier.\"}),(0,a.jsx)(n.p,{children:\"In order to run a query or mutation with variables, use the following structure, filling in the pieces as needed:\"}),(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:\"hljs language-bash\",children:[`curl -X POST \\\\\nhttps://{your_store_name}.myshopify.com/admin/api/{latest_api_version}/graphql.json \\\\\n-H `,(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\"Content-Type:application/graphql\"'}),` \\\\\n-H `,(0,a.jsx)(n.span,{className:\"hljs-string\",children:`\"X-Shopify-Access-Token: {access_token}' \\\\\n-d '{\n    \"`}),\"query\",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\" : \"'}),\"{your_query}\",(0,a.jsx)(n.span,{className:\"hljs-string\",children:`\", \\\\\n    \"`}),\"variables\",(0,a.jsx)(n.span,{className:\"hljs-string\",children:'\" : \"'}),\"{your_variables}\",(0,a.jsx)(n.span,{className:\"hljs-string\",children:`\" \\\\\n    }'\n`})]})})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"8\",children:\"Using Postman\"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:\"https://www.postman.com/\",children:\"Postman\"}),\" is a third party tool that allows you to make calls to the GraphQL APIs. It can be useful for building your queries and mutations without having to log into the GraphiQL app which we've been using. You can also build a collection of queries and mutations that can be reused. We will take you through the process of configuring Postman and then executing the same queries and mutations that we have covered in the previous steps.\"]}),(0,a.jsxs)(n.p,{children:[\"In Postman, create a new collection and add a new request. Select \",(0,a.jsx)(n.code,{children:\"POST\"}),\" from the dropdown and then paste the following value into the URL field, replacing the placeholder value with the name of your store, and the latest version of the API:\"]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:\"https://{yourstorename}.myshopify.com/admin/api/{latest-api-version}/graphql.json\"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/postman-setup1.png\",alt:\"Postman Setup 1\"})}),(0,a.jsx)(n.p,{children:\"Open up the Headers section of the request and enter the following key/value pairs, replacing the placeholder value with the API key you revealed in the Shopify Admin:\"}),(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:\"Key\"}),(0,a.jsx)(n.th,{children:\"Value\"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:\"Content-Type\"}),(0,a.jsx)(n.td,{children:\"application/json\"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:\"X-Shoify-Access-Token\"}),(0,a.jsx)(n.td,{children:\"{your_access_token}\"})]})]})]}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/postman-setup2.png\",alt:\"Postman Setup 2\"})}),(0,a.jsx)(n.p,{children:\"Finally, open the Body section of the request and select the GraphQL radio button. Copy and paste in any of the previous queries that we have run into the query window, and include any variables in the GraphQL Variables window. You're now ready to click send at the top right! You'll see the same response as you had before.\"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:\"/content/images/learning-graphql/postman-completed.png\",alt:\"Postman completed\"})})]})}),(0,a.jsx)(n.div,{className:\"workshop-step\",children:(0,a.jsxs)(n.section,{children:[(0,a.jsx)(n.h2,{id:\"9\",children:\"Conclusion\"}),(0,a.jsx)(n.p,{children:\"Congratulations! You have learned how to make calls to the Shopify Admin API using GraphQL, GraphiQL, Curl and Postman. Now that you've had some practice, take some time to try out some other queries and change data in your test store using the different endpoints offered. For more advanced content, take a look at the links below\"}),(0,a.jsxs)(n.ul,{children:[`\n`,(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/usage/access-scopes\",children:\"Access scopes\"})}),`\n`,(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/usage/pagination-graphql\",children:\"Pagination\"})}),`\n`,(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/usage/bulk-operations/queries\",children:\"Bulk queries\"})}),`\n`,(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/usage/bulk-operations/imports\",children:\"Bulk mutations\"})}),`\n`,(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:\"https://shopify.dev/api/usage/rate-limits\",children:\"Rate limits\"})}),`\n`]})]})})]})]})}function v(s={}){let{wrapper:n}=s.components||{};return n?(0,a.jsx)(n,Object.assign({},s,{children:(0,a.jsx)(p,s)})):p(s)}var q=v;function o(s,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+s+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return w(k);})();\n;return Component;","frontmatter":{"id":"learning-graphql","title":"Learn how to call the GraphQL Admin API","summary":"Get started with the Admin API by making GraphQL queries and mutations.","status":"Published","categories":"shopify,graphql"},"trackingEnabled":true},"routes/workshops":null},"actionData":null,"errors":null},"future":{"v2_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":false,"v2_meta":false,"v2_normalizeFormMethod":false,"v2_routeConvention":false}};</script><script type="module" async="">import "/build/manifest-0FD511F1.js";
import * as route0 from "/build/root-TS7GWK7I.js";
import * as route1 from "/build/routes/workshops-YWZAAF22.js";
import * as route2 from "/build/routes/workshops/$workshopId-TCVFMZD7.js";
window.__remixRouteModules = {"root":route0,"routes/workshops":route1,"routes/workshops/$workshopId":route2};

import("/build/entry.client-J6TYPMOL.js");</script></body></html>