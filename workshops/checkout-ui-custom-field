<!DOCTYPE html><html lang="en" class="h-full"><head><meta charSet="utf-8"/><title>Creating custom Shopify Checkout experiences with Checkout UI extensions</title><meta name="description" content="Learn how to extend your Shopify checkout experience by adding a custom field to checkout with Checkout UI extensions."/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta property="og:type" content="website"/><meta property="og:image" content="https://workshops.shopify.dev/social-share-preview.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://workshops.shopify.dev/social-share-preview.jpg"/><meta name="twitter:creator" content="@ShopifyDevs"/><link rel="stylesheet" href="/build/_assets/tailwind-OSF3KDF6.css"/><link rel="stylesheet" href="/build/_assets/workshops-IXG5EJLE.css"/><link rel="stylesheet" href="/build/_assets/agate-YFU2QRW6.css"/></head><body class="h-full bg-slate-50"><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-86JJCZ26ZM"></script><script async="" id="gtag-init">
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
              </script><main><div class="workshop flex h-full w-full flex-row justify-between gap-0"><header class="fixed top-0 left-0 right-0 z-[2] flex flex-row-reverse items-center justify-end bg-white p-4 drop-shadow-md md:justify-between"><div class="hidden md:block timer"><p>55<!-- --> minutes remaining</p></div><h1>Creating custom Shopify Checkout experiences with Checkout UI extensions</h1><button class="btn-icon md:hidden" aria-label="Open step navigation"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg></button><a class="btn-icon hidden md:block" arial-label="Go back to workshops" href="/"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-5 w-5"><path d="M19 9H3.661l5.997-5.246a1 1 0 00-1.316-1.506l-8 7c-.008.007-.011.018-.019.025a.975.975 0 00-.177.24c-.018.03-.045.054-.059.087a.975.975 0 000 .802c.014.033.041.057.059.088.05.087.104.17.177.239.008.007.011.018.019.025l8 7a.996.996 0 001.411-.095 1 1 0 00-.095-1.411L3.661 11H19a1 1 0 000-2z"></path></svg></a></header>
<div class="workshop-nav flex shrink-0 flex-col gap-2 bg-slate-50"><a class="flex select-none items-center rounded-md px-4 pb-2 leading-snug md:hidden" href="/"><svg width="8.4" height="12" viewBox="0 0 7 10" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.30326 0.403358C5.108 0.208096 4.79142 0.208096 4.59615 0.403358L1.06062 3.93889L0.353513 4.646C0.158251 4.84126 0.158251 5.15784 0.353513 5.35311L1.06062 6.06021L4.59615 9.59575C4.79142 9.79101 5.108 9.79101 5.30326 9.59575L6.01037 8.88864C6.20563 8.69338 6.20563 8.37679 6.01037 8.18153L2.82839 4.99955L6.01037 1.81757C6.20563 1.62231 6.20563 1.30573 6.01037 1.11046L5.30326 0.403358Z" fill="currentColor"></path></svg><span class="pl-2">Workshops</span></a><hr class="md:hidden"/><div class="flex select-none items-center rounded-md py-4 px-4 leading-snug md:hidden timer"><p>55<!-- --> minutes remaining</p></div><a href="#0" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug font-medium"><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-emerald-500">1</span>Before you begin</a><a href="#1" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">2</span>Prerequisites</a><a href="#2" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">3</span>Create a Shopify App</a><a href="#3" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">4</span>What are Checkout UI Extensions</a><a href="#4" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">5</span>Generating your Checkout UI Extension</a><a href="#5" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">6</span>Choose your extension point</a><a href="#6" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">7</span>Add a TextField Component with Checkout UI Component Library</a><a href="#7" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">8</span>Saving Data to Metafields</a><a href="#8" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">9</span>Validation and Controlling Checkout Navigation</a><a href="#9" class="flex select-none items-center rounded-md border border-solid border-gray-200 bg-white py-4 px-4 leading-snug "><span class="mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full  text-[0.8rem] leading-6 text-white bg-slate-400">10</span>Conclusion</a></div><div class="backdrop fixed inset-0"></div>
<div class="slider-wrapper"><div class="slider-panel"><div class="workshop-step"><section><h2 id="0">Before you begin</h2><p>In this workshop you will learn many of the core concepts of building a custom Shopify Checkout experiences with Checkout UI Extensions. Checkout UI extensions let you add custom workflows and functionality at defined points of the checkout process. They&#x27;re built into apps using extension point APIs and UI components. You will learn by implementing a common Checkout customization, adding a custom field to collect a Resident ID. The concepts that this workshop will cover are:</p><ul>
<li>Generating a new extension with the Shopify CLI</li>
<li>Checkout UI extension configuration</li>
<li>The different types of extension points</li>
<li>Deploying your extension to Shopify</li>
<li>Using Checkout UI extension components</li>
<li>Saving data to metafields</li>
<li>Controlling the Checkout flow</li>
</ul><p><img src="/content/images/checkout-ui-custom-field/checkout-ui-ext-custom-field-unite.gif" alt="resident-id-extension"/></p><aside class="callout callout-positive border-green-500 bg-green-50 rounded-md border-l-4  p-4"><dt>Positive</dt><dd>Some countries require a resident ID, or tax identification number, to purchase goods and services.</dd><dt>Positive</dt><dd>To view the complete source code for this workshop, check out <a href="https://github.com/Shopify/unite-workshop-checkout-ui">this repo</a>.</dd></aside></section></div></div><div class="slider-controls"><button class="slider-control btn btn-small btn-tertiary-outline prev shadow-md invisible" disabled="">Back</button><button class="slider-control btn btn-small btn-tertiary next shadow-md ">Next</button></div></div></div></main><script>((STORAGE_KEY, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({
        key
      }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(STORAGE_KEY) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(STORAGE_KEY);
    }
  })("positions", null)</script><link rel="modulepreload" href="/build/entry.client-J6TYPMOL.js"/><link rel="modulepreload" href="/build/_shared/chunk-YZBVNK3V.js"/><link rel="modulepreload" href="/build/_shared/chunk-SH7JW3YP.js"/><link rel="modulepreload" href="/build/_shared/chunk-GDLBX7ER.js"/><link rel="modulepreload" href="/build/_shared/chunk-Q3IECNXJ.js"/><link rel="modulepreload" href="/build/_shared/chunk-JOBPDGDE.js"/><link rel="modulepreload" href="/build/_shared/chunk-MV3Y6IQI.js"/><link rel="modulepreload" href="/build/root-TS7GWK7I.js"/><link rel="modulepreload" href="/build/routes/workshops-YWZAAF22.js"/><link rel="modulepreload" href="/build/_shared/chunk-4QTFVEPO.js"/><link rel="modulepreload" href="/build/routes/workshops/$workshopId-TCVFMZD7.js"/><script>window.__remixContext = {"url":"/workshops/checkout-ui-custom-field","state":{"loaderData":{"root":{"trackingEnabled":true},"routes/workshops/$workshopId":{"workshopId":"checkout-ui-custom-field","code":"var Component=(()=\u003e{var p=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var f=(s,e)=\u003e()=\u003e(e||s((e={exports:{}}).exports,e),e.exports),y=(s,e)=\u003e{for(var l in e)i(s,l,{get:e[l],enumerable:!0})},c=(s,e,l,t)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let a of u(e))!j.call(s,a)\u0026\u0026a!==l\u0026\u0026i(s,a,{get:()=\u003ee[a],enumerable:!(t=m(e,a))||t.enumerable});return s};var g=(s,e,l)=\u003e(l=s!=null?p(N(s)):{},c(e||!s||!s.__esModule?i(l,\"default\",{value:s,enumerable:!0}):l,s)),k=s=\u003ec(i({},\"__esModule\",{value:!0}),s);var r=f((_,h)=\u003e{h.exports=_jsx_runtime});var I={};y(I,{default:()=\u003ex,frontmatter:()=\u003ew});var n=g(r()),w={summary:\"Learn how to extend your Shopify checkout experience by adding a custom field to checkout with Checkout UI extensions.\",id:\"checkout-ui-custom-field\",status:\"Published\",categories:\"shopify,react\",\"feedback-link\":\"https://github.com/Shopify/workshops\"};function o(s){let e=Object.assign({timer:\"timer\",h1:\"h1\",nav:\"nav\",\"workshop-steps\":\"workshop-steps\",div:\"div\",section:\"section\",h2:\"h2\",p:\"p\",ul:\"ul\",li:\"li\",img:\"img\",dl:\"dl\",dt:\"dt\",dd:\"dd\",a:\"a\",pre:\"pre\",code:\"code\",h3:\"h3\",strong:\"strong\",span:\"span\",h4:\"h4\",ol:\"ol\"},s.components),l=e[\"workshop-steps\"],{WorkshopHeader:t,WorkshopNavLink:a}=e;return t||d(\"WorkshopHeader\",!0),a||d(\"WorkshopNavLink\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t,{children:[(0,n.jsx)(e.timer,{cssClass:\"hidden md:block\",children:'{\"total\":55,\"stepsDuration\":{\"1\":1,\"2\":3,\"3\":5,\"4\":5,\"5\":5,\"6\":10,\"7\":5,\"8\":10,\"9\":9,\"10\":2},\"countDown\":[]}'}),(0,n.jsx)(e.h1,{children:\"Creating custom Shopify Checkout experiences with Checkout UI extensions\"})]}),`\n`,(0,n.jsxs)(e.nav,{children:[(0,n.jsx)(e.timer,{cssClass:\"flex select-none items-center rounded-md py-4 px-4 leading-snug md:hidden\",children:'{\"total\":55,\"stepsDuration\":{\"1\":1,\"2\":3,\"3\":5,\"4\":5,\"5\":5,\"6\":10,\"7\":5,\"8\":10,\"9\":9,\"10\":2},\"countDown\":[]}'}),(0,n.jsx)(a,{stepStr:\"0\",children:\"Before you begin\"}),(0,n.jsx)(a,{stepStr:\"1\",children:\"Prerequisites\"}),(0,n.jsx)(a,{stepStr:\"2\",children:\"Create a Shopify App\"}),(0,n.jsx)(a,{stepStr:\"3\",children:\"What are Checkout UI Extensions\"}),(0,n.jsx)(a,{stepStr:\"4\",children:\"Generating your Checkout UI Extension\"}),(0,n.jsx)(a,{stepStr:\"5\",children:\"Choose your extension point\"}),(0,n.jsx)(a,{stepStr:\"6\",children:\"Add a TextField Component with Checkout UI Component Library\"}),(0,n.jsx)(a,{stepStr:\"7\",children:\"Saving Data to Metafields\"}),(0,n.jsx)(a,{stepStr:\"8\",children:\"Validation and Controlling Checkout Navigation\"}),(0,n.jsx)(a,{stepStr:\"9\",children:\"Conclusion\"})]}),`\n`,(0,n.jsxs)(l,{children:[(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"0\",children:\"Before you begin\"}),(0,n.jsx)(e.p,{children:\"In this workshop you will learn many of the core concepts of building a custom Shopify Checkout experiences with Checkout UI Extensions. Checkout UI extensions let you add custom workflows and functionality at defined points of the checkout process. They're built into apps using extension point APIs and UI components. You will learn by implementing a common Checkout customization, adding a custom field to collect a Resident ID. The concepts that this workshop will cover are:\"}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Generating a new extension with the Shopify CLI\"}),`\n`,(0,n.jsx)(e.li,{children:\"Checkout UI extension configuration\"}),`\n`,(0,n.jsx)(e.li,{children:\"The different types of extension points\"}),`\n`,(0,n.jsx)(e.li,{children:\"Deploying your extension to Shopify\"}),`\n`,(0,n.jsx)(e.li,{children:\"Using Checkout UI extension components\"}),`\n`,(0,n.jsx)(e.li,{children:\"Saving data to metafields\"}),`\n`,(0,n.jsx)(e.li,{children:\"Controlling the Checkout flow\"}),`\n`]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/checkout-ui-custom-field/checkout-ui-ext-custom-field-unite.gif\",alt:\"resident-id-extension\"})}),(0,n.jsxs)(e.dl,{children:[(0,n.jsx)(e.dt,{children:\"Positive\"}),(0,n.jsx)(e.dd,{children:\"Some countries require a resident ID, or tax identification number, to purchase goods and services.\"}),(0,n.jsx)(e.dt,{children:\"Positive\"}),(0,n.jsxs)(e.dd,{children:[\"To view the complete source code for this workshop, check out \",(0,n.jsx)(e.a,{href:\"https://github.com/Shopify/unite-workshop-checkout-ui\",children:\"this repo\"}),\".\"]})]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"1\",children:\"Prerequisites\"}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Create a \",(0,n.jsx)(e.a,{href:\"https://www.shopify.com/partners\",children:\"Shopify partner account\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Create a \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/docs/apps/tools/development-stores#create-a-development-store-to-test-your-app\",children:\"development store with pre-populated data\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Sign up for a \",(0,n.jsx)(e.a,{href:\"https://ngrok.com/\",children:\"ngrok account\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Set up the \",(0,n.jsx)(e.a,{href:\"https://help.shopify.com/en/manual/checkout-settings/test-orders\",children:\"Bogus Payment Gateway\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://nodejs.org/en/download/\",children:\"Installed Node 18\"}),\" or higher\"]}),`\n`]}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Installed a Node package manager such as \",(0,n.jsx)(e.a,{href:\"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm\",children:\"npm\"}),\", \",(0,n.jsx)(e.a,{href:\"https://classic.yarnpkg.com/lang/en/docs/install/#mac-stable\",children:\"yarn\"}),\", or \",(0,n.jsx)(e.a,{href:\"https://pnpm.io/installation\",children:\"pnpm\"}),\".\"]}),`\n`]}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Install \",(0,n.jsx)(e.a,{href:\"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git\",children:\"Git\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"Installed the latest version of Chrome or Firefox\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Install a text editor such as \",(0,n.jsx)(e.a,{href:\"https://code.visualstudio.com/\",children:\"Visual Studio Code\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Install the \",(0,n.jsx)(e.a,{href:\"https://shopify-graphiql-app.shopifycloud.com/login\",children:\"Shopify GraphiQL App\"})]}),`\n`]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"2\",children:\"Create a Shopify App\"}),(0,n.jsx)(e.p,{children:\"In this section we will be covering how to generate your first app. If you already have a Shopify app you would like to add your checkout extension to you can skip this section.\"}),(0,n.jsx)(e.p,{children:\"In your terminal run the following command to clone the generate code for a Shopify app, and give your app a name.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"hljs language-bash\",children:`npm init @shopify/app@latest\n`})}),(0,n.jsxs)(e.p,{children:[\"When you create an app using these commands, a new Shopify project directory is created, template code is cloned, and Shopify CLI is installed along with all of the dependencies you need to build Shopify apps. The current version of Shopify CLI is also added as a dependency in your project's \",(0,n.jsx)(e.code,{children:\"package.json\"}),\".\"]}),(0,n.jsx)(e.p,{children:\"The new app contains the following template elements:\"}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"A React.js frontend that lets you populate your development store with products\"}),`\n`,(0,n.jsx)(e.li,{children:\"A Node.js backend that is ready to interact with the Shopify REST and GraphQL Admin APIs\"}),`\n`]}),(0,n.jsx)(e.p,{children:\"From your apps root directory run the following command to start your app server.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"hljs language-bash\",children:`npm run dev\n`})}),(0,n.jsx)(e.p,{children:\"The first time run this command it will also require you to some additional setup.\"}),(0,n.jsxs)(e.p,{children:[\"When prompted with \",(0,n.jsx)(e.code,{children:\"Create this project as a new app on Shopify?\"}),`\nSelect `,(0,n.jsx)(e.code,{children:\"Yes, create it as a new app\"}),`.\nThis will create the App in your Shopify Partners account.\nIf you have more than one development store associated with your partner account you'll be asked to choose which development store you'd like to install your app on.`]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"3\",children:\"What are Checkout UI Extensions\"}),(0,n.jsx)(e.p,{children:\"Merchants use Shopify Checkout to accept orders and receive payments wherever they sell online. You can augment Shopify Checkout with new functionality by building a public or custom app.\"}),(0,n.jsxs)(e.p,{children:[\"There are different methods app developers can use to customize the look and functionality of the Checkout, including \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout\",children:\"Checkout UI extensions\"}),\", \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/examples/checkout-branding\",children:\"Branding API\"}),\", \",(0,n.jsx)(e.a,{href:\"https://shopify.dev//api/functions\",children:\"Shopify Functions\"}),\", and \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/extension-points\",children:\"Post-purchase checkout extensions\"}),\".\"]}),(0,n.jsxs)(e.p,{children:[\"In this tutorial we will be focusing on \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout\",children:\"Checkout UI Extensions\"}),\". Checkout UI extensions allow you to add additional UI to the Shopify Checkout using the \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/components\",children:\"Checkout UI component library\"}),\". With the \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/extension-points/api\",children:\"Checkout Extension API\"}),\" we can update the merchandise items the buyer is purchasing, add metadata to objects in the checkout, and more.\"]}),(0,n.jsx)(e.p,{children:\"We will use a combination of Checkout UI components and the Checkout Extension API to create our Checkout UI extension for our app.\"}),(0,n.jsx)(e.h3,{children:\"Checkout UI Extensions and Apps\"}),(0,n.jsx)(e.p,{children:\"Currently Checkout UI extensions must be associated with a Shopify App. The App code will handle the installation of the App on the store, and App configurations. It's the developer's responsibility to deploy the App to a production environment. An App can have one or more Checkout UI extensions. The Checkout UI extension code will be pushed to Shopify. Shopify will handle deploying, and the rendering of your extension in the Checkout.\"}),(0,n.jsx)(e.h3,{children:\"Checkout Extensibility and Checkout UI Extensions\"}),(0,n.jsx)(e.p,{children:\"Checkout Extensibility refers to the entire list of offerings for developers to customize a merchants Checkout experience.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/optimized/checkout-ui-custom-field/checkout-ui-ext-flowchart.jpg\",alt:\"checkout-ext-flowchart\"})}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Checkout UI extensions\"}),\": Capture additional input from customers and modify the line items in the Checkout.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Checkout branding\"}),\": Customize your checkout's look and feel by changing the branded colors of checkout and more.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Shopify Functions\"}),\": Extend or replace key parts of Shopify\\u2019s backend with custom logic, such as creating a new type of discount that's offered in the cart and at checkout.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Post-purchase extensions\"}),\": Add new content to the post-purchase page such as showing a product offer after customers have checked out, or capturing additional information after customers have checked out.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Web pixel extension\"}),\": Collect buyer behavioral data to measure and optimize marketing campaign performance as well as your online store's conversion funnel.\"]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"4\",children:\"Generating your Checkout UI Extension\"}),(0,n.jsx)(e.p,{children:\"We will use the Shopify CLI to generate a new Checkout UI extensions for our app.\"}),(0,n.jsx)(e.h3,{children:\"Add a new Checkout UI extension to your app.\"}),(0,n.jsx)(e.p,{children:\"In the app directory, run the following command in your terminal.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"hljs language-bash\",children:`npm run generate extension\n`})}),(0,n.jsxs)(e.p,{children:[\"When prompted select \",(0,n.jsx)(e.code,{children:\"Checkout UI\"}),\" as the type of extension.\"]}),(0,n.jsxs)(e.p,{children:[\"Enter a name for your extension, for example, \",(0,n.jsx)(e.code,{children:\"custom-field-extension\"})]}),(0,n.jsxs)(e.p,{children:[\"Select \",(0,n.jsx)(e.code,{children:\" JavaScript React\"}),\" as your extension template.\"]}),(0,n.jsx)(e.h3,{children:\"Extension Configuration with the .toml File\"}),(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"shopify.ui.extension.toml\"}),\" file contains the extension's settings, which include the extension name, extension points, metafields, and capabilities.\"]}),(0,n.jsxs)(e.p,{children:[\"The following example describes the properties available in the \",(0,n.jsx)(e.code,{children:\"shopify.ui.extension.toml\"}),\" file.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-yml\",children:[(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"checkout_ui_extension\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"name\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"my-checkout-extension\"'}),`\n\n\n`,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"extension_points\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),` [\n`,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'Checkout::Dynamic::Render'\"}),`\n]\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# [[metafields]]\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# namespace = \"my-namespace\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# key = \"my-key\"'}),`\n\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# [[metafields]]\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# namespace = \"my-namespace\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# key = \"my-key-2\"'}),`\n\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# Read more on extension settings at https://shopify.dev/api/checkout-extensions/checkout/configuration\"}),`\n\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# [settings]\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'#   key = \"banner_title\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'#   type = \"single_line_text_field\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'#   name = \"Banner title\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'#   description = \"Enter a title for the banner\"'}),`\n`]})}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Type:\"}),\" The type of extension. This property is \",(0,n.jsx)(e.code,{children:\"checkout_ui_extension\"}),\" for this workshop.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Name:\"}),\" The name of the extension. This property is used to identify the extension in the Shopify admin.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Extension Points:\"}),\" The extension points that the extension will be added to. This property is an array of strings. Full list of extension points can be found \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/extension-points/api#extensionpoints\",children:\"here\"}),\".\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Metafields:\"}),\" The metafields that your extension \",(0,n.jsx)(e.strong,{children:\"needs to read\"}),\". You can specify up to five key and namespace pairs in the configuration file. When the extension is executed, Shopify looks for the metafields in each resource and returns their contents. These metafields are separate from the metafields you can add to the resources in the Checkout.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Capabilities:\"}),\" The capabilities that your extension needs to have. You can specify the following capabilities:\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"network_access\"}),\": Allows you to use the JavaScript \",(0,n.jsxs)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\",children:[(0,n.jsx)(e.code,{children:\"fetch()\"}),\" API\"]}),\" in your extension to make external network calls. If you add this property, then you need to \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/configuration#complete-a-request-for-network-access\",children:\"complete the request for network access\"}),\" in your Partner Dashboard.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"block_progress\"}),\": States that your extension might block checkout progress using the buyerJourney intercept to enforce validation. This capability isn't guaranteed, and requires the merchant to allow it when configuring the extension within the checkout editor.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Settings:\"}),\" Defines settings for the checkout UI extension that a merchant can set values for in the checkout editor.\"]}),(0,n.jsx)(e.h3,{children:\"Preview your Checkout UI Extensions\"}),(0,n.jsx)(e.p,{children:\"In your app directory, stop and restart your development server.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"hljs language-bash\",children:`npm run dev\n`})}),(0,n.jsxs)(e.p,{children:[\"When you run the \",(0,n.jsx)(e.code,{children:\"dev\"}),\" command, the CLI builds and serves your app. It also walks you through multiple configuration steps.\"]}),(0,n.jsxs)(e.p,{children:[\"In your terminal output from running the \",(0,n.jsx)(e.code,{children:\"npm run dev\"}),\" command you should see a link to preview and test your Checkout UI extension in the browser.\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/optimized/checkout-ui-custom-field/checkout-ui-ext-preview-link.jpg\",alt:\"preview-link\"})}),(0,n.jsxs)(e.p,{children:[\"You should now see text saying \",(0,n.jsx)(e.code,{children:\"Welcome to the Checkout::Dynamic::Render extension\"}),`\nThis text is added to the Checkout from your new Checkout extension.`]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/optimized/checkout-ui-custom-field/checkout-ui-ext-render-banner.jpg\",alt:\"ui-welocome-text\"})}),(0,n.jsx)(e.p,{children:\"Let's take a closer look at the code\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"React\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),` {\n  useExtensionApi,\n  render,\n  `,(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"Banner\"}),`,\n  useTranslate,\n} `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n\n`,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"render\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Checkout::Dynamic::Render\"'}),\", \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"App\"}),\" /\u003e\"]})}),`);\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"App\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" { extensionPoint } = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useExtensionApi\"}),`();\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" translate = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useTranslate\"}),`();\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"xml\",children:[(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"Banner\"}),\"\u003e\"]}),'{translate(\"welcome\", { extensionPoint })}',(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"Banner\"}),\"\u003e\"]})]}),`;\n}\n`]})}),(0,n.jsx)(e.p,{children:\"Some things to note:\"}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"We are importing the \",(0,n.jsx)(e.code,{children:\"Banner\"}),\" UI component from the \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/components\",children:\"Checkout UI component library\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"We are registering to use the \",(0,n.jsx)(e.code,{children:\"Checkout::Dynamic::Render\"}),\" extension point. This extension point is used to render new content added to the flow of checkout.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"The \",(0,n.jsx)(e.code,{children:\"Banner\"}),\" component will display the text we want to show, and using the \",(0,n.jsx)(e.code,{children:\"translate()\"}),\" function will translate the text based off the \",(0,n.jsx)(e.code,{children:\"welcome\"}),\" key and the translations we have set up in the \",(0,n.jsx)(e.code,{children:\"locales\"}),\" folder.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"The \",(0,n.jsx)(e.code,{children:\"useExtensionAPI()\"}),\" method is a React hook that gives you access to the \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/extension-points/api#standardapi\",children:\"full API object\"}),\" that was passed in to your extension when it was created.\"]}),`\n`]}),(0,n.jsxs)(e.p,{children:[\"View the \",(0,n.jsx)(e.a,{href:\"https://github.com/Shopify/unite-workshop-checkout-ui/tree/1-checkout-ui-generate-extension\",children:\"source code\"}),\".\"]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"5\",children:\"Choose your extension point\"}),(0,n.jsxs)(e.p,{children:[\"A UI extension will register for one or more extension points using \",(0,n.jsx)(e.code,{children:\"render()\"}),` with React templates. An extension point in a UI extension is a JavaScript function. This function receives some API for interacting with the app, and is expected to return a value in a certain shape. The input arguments and the output type are different for each extension point.\nExtension points represent the base place in the flow of the checkout where the UI extension will be rendered.\nIn this tutorial, we will be using the `,(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/extension-points/api\",children:\"Checkout::Dynamic::Render\"}),\" extension point. This extension point isn't attached to any other element in checkout. Instead, a merchant can select the step and position of your extension when configuring the overall flow of their checkout.\"]}),(0,n.jsx)(e.h3,{children:\"Dynamic Extension Points\"}),(0,n.jsxs)(e.p,{children:[`Dynamic extension points aren't tied to core checkout features like shipping methods or the order summary. They render between core features on each checkout step. Merchants can use the checkout editor to place the extension in any one of the supported locations for the dynamic extension point.\nWhen a checkout step doesn't display, dynamic extension points automatically move. Extension points adapt when checkout flows adapt, like between guest checkout and Shop Pay.\n`,(0,n.jsx)(e.img,{src:\"/content/images/checkout-ui-custom-field/checkout-ui-ext-dynamic-ext.png\",alt:\"dynamic-extension-point\"})]}),(0,n.jsx)(e.h3,{children:\"Static Extension Points\"}),(0,n.jsx)(e.p,{children:`Static extension points are tied to core checkout features such as contact information, shipping methods, and order summary line items. Shopify provides extension points that render extensions before or after most core checkout features.\nWhen a core checkout feature isn't rendered, the static extension points tied to the feature aren't rendered. For example, shipping methods aren't shown when customers select the option for store pickup and the UI extensions that load in the static extension points before or after the shipping method aren't rendered.\nYou can either use one static extension point, or offer merchants a choice of different static extension points for your extension. Merchants use the checkout editor to place the extension in the checkout experience.`}),(0,n.jsx)(e.h3,{children:\"Placing your extension with the editor\"}),(0,n.jsx)(e.p,{children:\"Using the Checkout Editor merchants can choose where to place your extension in the checkout flow.\"}),(0,n.jsx)(e.h4,{children:\"Deploying your extension\"}),(0,n.jsx)(e.p,{children:\"To use the Checkout Editor you will need to push your extension to Shopify, and publish it.\"}),(0,n.jsx)(e.p,{children:\"In your terminal run the following command to push your extension code to Shopify:\"}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"hljs language-bash\",children:`npm run deploy\n`})}),(0,n.jsx)(e.p,{children:\"In your terminal output click on the link to navigate to the extension listing in the partner dashboard.\"}),(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Create a new version of your extension.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Publish that version to make it live for merchants with the app installed.\"}),`\n`]}),(0,n.jsx)(e.h4,{children:\"Install your App on the your Development Store\"}),(0,n.jsx)(e.p,{children:\"To install the app to your store perform the following steps:\"}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"From your partner dashboard navigate to the \",(0,n.jsx)(e.code,{children:\"All Apps\"}),\" page.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"Click on your newly created app.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"From the \",(0,n.jsx)(e.code,{children:\"Test your app\"}),\" section, click \",(0,n.jsx)(e.code,{children:\"Select store\"}),\".\"]}),`\n`,(0,n.jsx)(e.li,{children:\"Select your test store with the Checkout Extensibility preview.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Authorize the requested scopes to complete the installation.\"}),`\n`]}),(0,n.jsx)(e.h4,{children:\"Testing your deployed extension\"}),(0,n.jsx)(e.p,{children:\"Navigate to your online store, add a product to your cart and checkout. You should see the banner that was added by your Checkout extension.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/optimized/checkout-ui-custom-field/checkout-ui-ext-render-banner.jpg\",alt:\"ui-welcome-text\"})}),(0,n.jsx)(e.h4,{children:\"Placing your Dynamic Extension with the Checkout Editor\"}),(0,n.jsxs)(e.p,{children:[\"In the admin of your development store navigate to \",(0,n.jsx)(e.code,{children:\"Settings\"}),\" \u003e \",(0,n.jsx)(e.code,{children:\"Checkout and accounts\"}),\" \u003e \",(0,n.jsx)(e.code,{children:\"Customize your Checkout\"}),\" \u003e \",(0,n.jsx)(e.code,{children:\"Go to Checkout Editor\"})]}),(0,n.jsxs)(e.p,{children:[\"Select \",(0,n.jsx)(e.code,{children:\"Add app\"}),\" and select your extension from the list of available extensions.\"]}),(0,n.jsx)(e.p,{children:\"Navigate back to the editor page.\"}),(0,n.jsx)(e.p,{children:\"You can place your extension at any of the available extension points.\"})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"6\",children:\"Add a TextField Component with Checkout UI Component Library\"}),(0,n.jsxs)(e.p,{children:[\"We need to add a \",(0,n.jsx)(e.code,{children:\"texField\"}),\" component to the Checkout so that buyers can enter the resident ID.\"]}),(0,n.jsx)(e.h3,{children:\"Checkout UI Component Library\"}),(0,n.jsxs)(e.p,{children:[\"You will use \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/components\",children:\"checkout components\"}),\" to build app extensions that feel at home in any checkout experience.\"]}),(0,n.jsx)(e.p,{children:\"Checkout components are designed to be flexible, enabling you to layer and mix them to create highly-customized app extensions that feel seamless within the checkout experience.\"}),(0,n.jsx)(e.p,{children:\"Merchants can apply their own branding to checkout. Checkout brand settings are automatically applied to the UI components for building the extension.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/checkout-ui-custom-field/checkout-ui-ext-branding.gif\",alt:\"merchant-branding\"})}),(0,n.jsxs)(e.p,{children:[\"Review the \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/components\",children:\"full list of Checkout UI components\"}),\".\"]}),(0,n.jsxs)(e.p,{children:[\"Checkout UI extensions don't have access to the DOM and can't return DOM nodes. They can't return \",(0,n.jsx)(e.code,{children:\"div\"}),\" elements, for example. Building an arbitrary tree of HTML and loading additional scripts using script tags are also not supported.\"]}),(0,n.jsx)(e.h3,{children:\"Add TextField Component to your extension\"}),(0,n.jsxs)(e.p,{children:[\"Navigate to your \",(0,n.jsx)(e.code,{children:\"index.jsx\"}),\" file in the \",(0,n.jsx)(e.code,{children:\"extensions\"}),\" folder of your app.\"]}),(0,n.jsxs)(e.p,{children:[\"Instead of returning a \",(0,n.jsx)(e.code,{children:\"Banner\"}),\" component, add a \",(0,n.jsx)(e.code,{children:\"TextField\"}),\" component, and import the \",(0,n.jsx)(e.code,{children:\"TextField\"}),\".\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` (\n  `,(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"TextField\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"label\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Resident ID\"'}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{residentID}\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{error\"}),' ? \"',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"Please\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"provide\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"a\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valid\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"ID\"}),'\" ',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"false\"}),`}\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"onChange\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{handleFieldChange}\"}),`\n  /\u003e`]})}),`\n);\n`]})}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" { render, \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"TextField\"}),\" } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n`]})}),(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/components/textfield\",children:\"TextField\"}),\" is used to get text input from a customer.\"]}),(0,n.jsx)(e.p,{children:\"In your component create two state variables. One to hold the value of the text field and one to hold if an error has occurred.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [error, setError] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [residentID, setResidentID] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"\"'}),`);\n`]})}),(0,n.jsx)(e.p,{children:\"Add a function to handle updating the text field state.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n  `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setResidentID\"}),`(value);\n};\n`]})}),(0,n.jsxs)(e.p,{children:[\"Your \",(0,n.jsx)(e.code,{children:\"index.js\"}),\" file should look similar to the following.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"React\"}),\", { useState } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" { render, \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"TextField\"}),\" } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n\n`,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"render\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Checkout::Dynamic::Render\"'}),\", \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"App\"}),\" /\u003e\"]})}),`);\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"App\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [error, setError] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [residentID, setResidentID] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"\"'}),`);\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setResidentID\"}),`(value);\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` (\n    `,(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"TextField\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"label\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Resident ID\"'}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{residentID}\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{error\"}),' ? \"',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"Please\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"provide\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"a\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valid\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"ID\"}),'\" ',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"false\"}),`}\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"onChange\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{handleFieldChange}\"}),`\n    /\u003e`]})}),`\n  );\n}\n`]})}),(0,n.jsx)(e.h3,{children:\"OnChange Callback\"}),(0,n.jsxs)(e.p,{children:[\"This callback is run when the buyer has finished editing a field. Unlike \",(0,n.jsx)(e.code,{children:\"onChange\"}),\" callbacks you might be familiar with from Polaris or other React component libraries, this callback isn't run on every change to the input. Text fields are \\u201Cpartially controlled\\u201D components, which means that while the buyer edits the field, its state is controlled by the component. After the buyer has signaled that they have finished editing the field (typically, by blurring the field), onChange is called if the input actually changed from the most recent value property. At that point, you are expected to store this \\u201Ccommitted value\\u201D in state, and reflect it in the text field\\u2019s value property.\"]}),(0,n.jsx)(e.p,{children:\"This state management model is important given how UI Extensions are rendered. UI Extension components run on a separate thread from the UI, so they can\\u2019t respond to input synchronously. A pattern popularized by controlled React components is to have the component be the source of truth for the input value, and update the value on every user input. The delay in responding to events from a UI extension is only a few milliseconds, but attempting to strictly store state with this delay can cause issues if a user types quickly, or if the buyer is using a lower-powered device. Having the UI thread take ownership for \\u201Cin progress\\u201D input, and only synchronizing when the user is finished with a field, avoids this risk.\"}),(0,n.jsxs)(e.p,{children:[\"View the \",(0,n.jsx)(e.a,{href:\"https://github.com/Shopify/unite-workshop-checkout-ui/tree/3-checkout-ui-add-text-field\",children:\"source code\"}),\".\"]}),(0,n.jsx)(e.h3,{children:\"Preview your Checkout UI Extensions\"}),(0,n.jsxs)(e.p,{children:[\"In your terminal output from running the \",(0,n.jsx)(e.code,{children:\"npm run dev\"}),\" command you should see a link to preview and test your Checkout UI extension in the browser.\"]}),(0,n.jsx)(e.p,{children:\"You now can see a new field titled Resident ID in the checkout.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/optimized/checkout-ui-custom-field/checkout-ui-ext-textfield.jpg\",alt:\"ui-welcome-text\"})})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"7\",children:\"Saving Data to Metafields\"}),(0,n.jsx)(e.p,{children:\"In this sections we will save the data entered by the buyer to the metafields of the order, so that it's viewable in the merchant admin.\"}),(0,n.jsx)(e.h3,{children:\"Shopify Metafields\"}),(0,n.jsx)(e.p,{children:`Metafields are a flexible way for your app to add and store additional information about a Shopify resource, such as a product, a collection, order and many other owner types.\nA metafield includes the following parts:`}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Namespace\"}),\": A container for a group of metafields. Grouping metafields within a namespace prevents your metafields from conflicting with other metafields with the same key name.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Key\"}),\": The name for the metafield.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Type\"}),\": The type of data that the metafield stores.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Value\"}),\": The data to store in the metafield. The value is always stored as a string, regardless of the metafield's type.\"]}),`\n`]}),`\n`]}),(0,n.jsx)(e.p,{children:\"The following example shows a resident ID value being stored in a metafield for a certain order.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-json\",children:[(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"data\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"order\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"metafield\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"namespace\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"ResidentIDApp\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"key\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"residentID\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"value\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"123456789\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\",\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:'\"type\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"single_line_text_field\"'}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,n.jsxs)(e.p,{children:[\"A \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/apps/metafields\",children:\"public metafield\"}),\" will be used to store the Resident ID on the order object.\"]}),(0,n.jsxs)(e.p,{children:[\"We will use the \",(0,n.jsx)(e.code,{children:\"applyMetafieldChange()\"}),\" function, from the \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/extension-points/api#standardapi\",children:\"ExtensionPointsAPI\"}),\" to add the field value as a metafield to the order on creation.\"]}),(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"useMetafield\"}),\" hook will be used to retrieve the current value of the Resident ID to use as the source of truth for the Resident ID field. This will keep the field value, even after navigating away and back to the Information page.\"]}),(0,n.jsx)(e.h3,{children:\"Saving Resident ID to a Metafield\"}),(0,n.jsxs)(e.p,{children:[\"Add two constants for your metafield namespace and key, in the \",(0,n.jsx)(e.code,{children:\"index.js\"}),\" file.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"RESIDENT_ID_APP\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"resident_id\"'}),`;\n`]})}),(0,n.jsxs)(e.p,{children:[\"In \",(0,n.jsx)(e.code,{children:\"index.jsx\"}),\" update the \",(0,n.jsx)(e.code,{children:\"handleFieldChange\"}),\" function to add the Resident ID to the metafield instead of storing it in the component state.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n  `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"updateMetafield\"}),`({\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"type\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"updateMetafield\"'}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valueType\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"string\"'}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),`: value,\n  });\n};\n`]})}),(0,n.jsxs)(e.p,{children:[\"Use the \",(0,n.jsx)(e.code,{children:\"useMetafield\"}),\" hook to retrieve the current value of the Resident ID, and set the value of the textfield.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" residentIdState = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useMetafield\"}),`({\n  `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n  `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n});\n`]})}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` (\n  `,(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"TextField\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"label\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Resident ID\"'}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{residentIdState?.value}\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{error\"}),' ? \"',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),'\" ',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"false\"}),`}\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"onChange\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{handleFieldChange}\"}),`\n  /\u003e`]})}),`\n);\n`]})}),(0,n.jsxs)(e.p,{children:[\"Your \",(0,n.jsx)(e.code,{children:\"index.jsx\"}),\" file should now look similar to the following.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"React\"}),\", { useState } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),` {\n  render,\n  `,(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"TextField\"}),`,\n  useApplyMetafieldsChange,\n  useMetafield,\n} `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n\n`,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"render\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Checkout::Dynamic::Render\"'}),\", \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"App\"}),\" /\u003e\"]})}),`);\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"App\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"RESIDENT_ID_APP\"'}),`;\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"resident_id\"'}),`;\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [error, setError] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" updateMetafield = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useApplyMetafieldsChange\"}),`();\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" residentIdState = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useMetafield\"}),`({\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n  });\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"updateMetafield\"}),`({\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"type\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"updateMetafield\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valueType\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"string\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),`: value,\n    });\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` (\n    `,(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"TextField\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"label\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Resident ID\"'}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{residentIdState?.value}\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{error\"}),' ? \"',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"Please\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"provide\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"a\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valid\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"ID\"}),'\" ',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"false\"}),`}\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"onChange\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{handleFieldChange}\"}),`\n    /\u003e`]})}),`\n  );\n}\n`]})}),(0,n.jsx)(e.h3,{children:\"Test your UI extension\"}),(0,n.jsx)(e.p,{children:`Either using the preview link outputted in your terminal or by deploying your extension, and adding a product to the cart, navigate to the checkout page.\nFill out the delivery information and the Resident ID field, and complete the checkout.`}),(0,n.jsx)(e.p,{children:\"We can verify that the Resident ID is saved to the metafield. By using the Shopify GraphQL Admin API to see if the metafield on the order.\"}),(0,n.jsx)(e.h4,{children:\"Install the GraphiQL Admin Explorer App\"}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://shopify-graphiql-app.shopifycloud.com/login\",children:\"Install the GraphiQL explorer app\"}),\".\"]}),(0,n.jsx)(e.p,{children:\"Select all admin API scopes.\"}),(0,n.jsx)(e.p,{children:\"Using the GraphiQL app you can then use the following query to retrieve the orders and the attached metafields.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-graphql\",children:[(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n  orders`,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"hljs-symbol\",children:\"first\"}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n    edges `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n      node `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n        id\n        metafields`,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"hljs-symbol\",children:\"first\"}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          edges `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            node `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n              namespace\n              key\n              value\n            `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n          `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n    `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n  `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,n.jsx)(e.p,{children:\"The result of your GraphQL query should show the order that was placed with the attached Resident ID metafield.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-graphql\",children:[\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n          `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"node\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n            `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"id\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"gid://shopify/Order/123\"'}),`,\n            `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"metafields\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n              `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"edges\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"[\"}),`\n                `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n                  `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"node\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"{\"}),`\n                    `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"namespace\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"RESIDENT_ID_APP\"'}),`,\n                    `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"key\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"resident_id\"'}),`,\n                    `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"value\"'}),(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"123456789\"'}),`\n                  `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n                `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n              `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"]\"}),`\n            `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n          `,(0,n.jsx)(e.span,{className:\"hljs-punctuation\",children:\"}\"}),`\n`]})}),(0,n.jsxs)(e.dl,{children:[(0,n.jsx)(e.dt,{children:\"Positive\"}),(0,n.jsxs)(e.dd,{children:[\"You can create a \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/admin-graphql/2022-07/objects/MetafieldDefinition\",children:\"metafield definition\"}),\" so it will appear on the Order page in the Shopify Admin.\"]})]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"8\",children:\"Validation and Controlling Checkout Navigation\"}),(0,n.jsx)(e.p,{children:\"The extensions API provides a way to control and block the navigation of the checkout flow. This can be useful for necessary field validation, but should be used with caution. Incorrectly blocking the checkout flow can result in a customer being unable to complete the checkout, and blocking orders for the merchant.\"}),(0,n.jsx)(e.h3,{children:\"Validate the Textfield and Show an Error\"}),(0,n.jsx)(e.p,{children:\"Add a function that will be called to validate the Resident ID field. For the sake of example the example function will only validate that the field is exactly 9 characters long.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),\" value.\",(0,n.jsx)(e.span,{className:\"hljs-property\",children:\"length\"}),\" === \",(0,n.jsx)(e.span,{className:\"hljs-number\",children:\"9\"}),`;\n};\n`]})}),(0,n.jsx)(e.p,{children:\"Update the handleFieldChange function to call the validateResidentId function and set the error state to true if the field isn't valid.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),\" (\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),`(value)) {\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"updateMetafield\"}),`({\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"type\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"updateMetafield\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valueType\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"string\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),`: value,\n    });\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n  } `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"else\"}),` {\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"true\"}),`);\n  }\n};\n`]})}),(0,n.jsxs)(e.p,{children:[\"Your \",(0,n.jsx)(e.code,{children:\"index.jsx\"}),\" file should look similar to the following.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"React\"}),\", { useState } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),` {\n  render,\n  `,(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"TextField\"}),`,\n  useMetafield,\n  useApplyMetafieldsChange,\n} `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"render\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Checkout::Dynamic::Render\"'}),\", \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"App\"}),\" /\u003e\"]})}),`);\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"App\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [error, setError] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" updateMetafield = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useApplyMetafieldsChange\"}),`();\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"RESIDENT_ID_APP\"'}),`;\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"resident_id\"'}),`;\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" residentIdState = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useMetafield\"}),`({\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n  });\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),\" (\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),`(value)) {\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"updateMetafield\"}),`({\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"type\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"updateMetafield\"'}),`,\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valueType\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"string\"'}),`,\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),`: value,\n      });\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n    } `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"else\"}),` {\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"true\"}),`);\n    }\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),\" value.\",(0,n.jsx)(e.span,{className:\"hljs-property\",children:\"length\"}),\" === \",(0,n.jsx)(e.span,{className:\"hljs-number\",children:\"9\"}),`;\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` (\n    `,(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"TextField\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"label\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Resident ID\"'}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{residentIdState?.value}\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{error\"}),' ? \"',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"Please\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"provide\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"a\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valid\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"ID\"}),'\" ',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"false\"}),`}\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"onChange\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{handleFieldChange}\"}),`\n    /\u003e`]})}),`\n  );\n}\n`]})}),(0,n.jsx)(e.p,{children:\"Navigate to the Checkout either using preview link output in your terminal or by deploying your extension, and adding a product to the cart.\"}),(0,n.jsx)(e.p,{children:\"Now validate that when you enter a Resident ID that isn't 9 characters long, and unfocus the field the error state is set to true, and the error message will show.\"}),(0,n.jsx)(e.h3,{children:\"Using BuyerJourneyIntercept\"}),(0,n.jsxs)(e.p,{children:[\"We can add the \",(0,n.jsx)(e.code,{children:\"useBuyerJourneyIntercept\"}),\" \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/api/checkout-extensions/checkout/extension-points/api#react-hooks\",children:\"Checkout UI React Hook\"}),\" to block the checkout flow.\"]}),(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"useBuyerJourneyIntercept\"}),\" hook accepts a function. If the function returns an object, \",(0,n.jsx)(e.code,{children:\"behavior: 'block', reason: 'Form is not valid.'\"}),\" the customer will be blocked from continuing to the next stage in the Checkout. The hook is called when the buyer tries to navigate to the next stage in the Checkout.\"]}),(0,n.jsxs)(e.p,{children:[\"In your \",(0,n.jsx)(e.code,{children:\"index.jsx\"}),\" file add the \",(0,n.jsx)(e.code,{children:\"useBuyerJourneyIntercept\"}),\" hook. Pass in a function that will block the progress of the checkout if the Resident ID isn't valid.\"]}),(0,n.jsxs)(e.p,{children:[\"Add a function to update the error state when the \",(0,n.jsx)(e.code,{children:\"useBuyerJourneyIntercept\"}),\" hook is called.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useBuyerJourneyIntercept\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),` {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),\" (!\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),\"(residentIdState.\",(0,n.jsx)(e.span,{className:\"hljs-property\",children:\"value\"}),`)) {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` {\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"behavior\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"block\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"reason\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Form is not valid.\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"// if a partner tries block checkout, then `perform()` does not get called and nothing happens\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"// acts like `behavior: allow`\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"perform\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"showValidationUI\"}),`(),\n    };\n  } `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"else\"}),` {\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` {\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"behavior\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"allow\"'}),`,\n    };\n  }\n});\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"showValidationUI\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) =\u003e {\n  `,(0,n.jsx)(e.span,{className:\"hljs-variable language_\",children:\"console\"}),\".\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"log\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"validation UI\"'}),`);\n  `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"true\"}),`);\n};\n`]})}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),` {\n  render,\n  `,(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"TextField\"}),`,\n  useMetafield,\n  useApplyMetafieldsChange,\n  useBuyerJourneyIntercept,\n} `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n`]})}),(0,n.jsxs)(e.p,{children:[\"Modify the \",(0,n.jsx)(e.code,{children:\"handleFieldChange\"}),\" function. The validation function should be called when:\"]}),(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"When the customer tries to navigate to the next stage in the checkout.\"}),`\n`,(0,n.jsx)(e.li,{children:\"If the error state is true it should be called when the customer unfocuses the field.\"}),`\n`]}),(0,n.jsx)(e.p,{children:\"This will match the behavior of the other checkout information fields.\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),` (error) {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"let\"}),\" validId = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),`(value);\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),` (validId) {\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n    }\n  }\n  `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"updateMetafield\"}),`({\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"type\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"updateMetafield\"'}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valueType\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"string\"'}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),`: value,\n  });\n};\n`]})}),(0,n.jsxs)(e.p,{children:[\"Your \",(0,n.jsx)(e.code,{children:\"index.jsx\"}),\" file should look similar to the following.\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-javascript\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"React\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),` {\n  render,\n  `,(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"TextField\"}),`,\n  useApplyMetafieldsChange,\n  useBuyerJourneyIntercept,\n  useMetafield,\n} `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"@shopify/checkout-ui-extensions-react\"'}),`;\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" { useState } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"react\"'}),`;\n\n`,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"render\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Checkout::Dynamic::Render\"'}),\", \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"App\"}),\" /\u003e\"]})}),`);\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"App\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"RESIDENT_ID_APP\"'}),`;\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),\" = \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"resident_id\"'}),`;\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" [error, setError] = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useState\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" updateMetafield = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useApplyMetafieldsChange\"}),`();\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" residentIdState = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useMetafield\"}),`({\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n    `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n  });\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"useBuyerJourneyIntercept\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),` {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),\" (!\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),\"(residentIdState.\",(0,n.jsx)(e.span,{className:\"hljs-property\",children:\"value\"}),`)) {\n      `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` {\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"behavior\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"block\"'}),`,\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"reason\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Form is not valid.\"'}),`,\n        `,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"// if a partner tries block checkout, then `perform()` does not get called and nothing happens\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"// acts like `behavior: allow`\"}),`\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"perform\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-function\",children:\"() =\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"showValidationUI\"}),`(),\n      };\n    } `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"else\"}),` {\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n      `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` {\n        `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"behavior\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"allow\"'}),`,\n      };\n    }\n  });\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"showValidationUI\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-variable language_\",children:\"console\"}),\".\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"log\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"validation UI\"'}),`);\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"true\"}),`);\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"handleFieldChange\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),` (error) {\n      `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"let\"}),\" validId = \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),`(value);\n      `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),` (validId) {\n        `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"setError\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"false\"}),`);\n      }\n    }\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"updateMetafield\"}),`({\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"type\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"updateMetafield\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"namespace\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_NAMESPACE\"}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"key\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-variable constant_\",children:\"METAFIELD_KEY\"}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valueType\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"string\"'}),`,\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),`: value,\n    });\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"validateResidentId\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"value\"}),`) =\u003e {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),\" value.\",(0,n.jsx)(e.span,{className:\"hljs-property\",children:\"length\"}),\" === \",(0,n.jsx)(e.span,{className:\"hljs-number\",children:\"9\"}),`;\n  };\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"return\"}),` (\n    `,(0,n.jsx)(e.span,{className:\"xml\",children:(0,n.jsxs)(e.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,n.jsx)(e.span,{className:\"hljs-name\",children:\"TextField\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"label\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"Resident ID\"'}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{residentIdState?.value}\"}),`\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"error\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{error\"}),' ? \"',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"Please\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"provide\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"a\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"valid\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"ID\"}),'\" ',(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"false\"}),`}\n      `,(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"onChange\"}),\"=\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"{handleFieldChange}\"}),`\n    /\u003e`]})}),`\n  );\n}\n`]})}),(0,n.jsxs)(e.p,{children:[\"View the \",(0,n.jsx)(e.a,{href:\"https://github.com/Shopify/unite-workshop-checkout-ui/tree/5-checkout-ui-validation-navigation-control\",children:\"source code\"}),\".\"]}),(0,n.jsxs)(e.p,{children:[\"Update the \",(0,n.jsx)(e.code,{children:\"shopify.ui.extension.toml\"}),\" file to include the \",(0,n.jsx)(e.code,{children:\"block_progress\"}),` capability.\nMerchants must grant your app the ability to block the checkout progress.`]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-yml\",children:[(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"checkout_ui\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"name\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:'\"resident-id\"'}),`\n\n\n`,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"extension_points\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),` [\n  `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'Checkout::Dynamic::Render'\"}),`\n]\n\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# [[metafields]]\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# namespace = \"my-namespace\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# key = \"my-key\"'}),`\n\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# [[metafields]]\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# namespace = \"my-namespace\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# key = \"my-key-2\"'}),`\n\n [`,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"capabilities\"}),`]\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# network_access = true\"}),`\n `,(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"block_progress\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"true\"}),`\n\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# Read more on extension settings at https://shopify.dev/api/checkout-extensions/checkout/configuration\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"# [[settings.fields]]\"}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# key = \"heading\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# name = \"Heading\"'}),`\n`,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:'# type = \"single_line_text_field\"'}),`\n\n`]})}),(0,n.jsx)(e.h3,{children:\"Test your UI extension\"}),(0,n.jsx)(e.p,{children:\"Either using the preview link outputted in your terminal or by deploying your extension, and adding a product to the cart, navigate to the checkout page.\"}),(0,n.jsx)(e.p,{children:\"You should now have a custom field that accepts a resident ID. It validates the ID, and block checkout progress if the ID is invalid. The extension adds the value of the field to the order as a metafield.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/content/images/checkout-ui-custom-field/checkout-ui-ext-custom-field-unite.gif\",alt:\"resident-id-extension\"})}),(0,n.jsxs)(e.dl,{children:[(0,n.jsx)(e.dt,{children:\"Negative\"}),(0,n.jsxs)(e.dd,{children:[\"For your changes to \",(0,n.jsx)(e.code,{children:\"shopify.ui.extension.toml\"}),\" you will need to restart your dev server\"]})]})]})}),(0,n.jsx)(e.div,{className:\"workshop-step\",children:(0,n.jsxs)(e.section,{children:[(0,n.jsx)(e.h2,{id:\"9\",children:\"Conclusion\"}),(0,n.jsx)(e.p,{children:\"You have now created a custom Checkout experience with Checkout UI extensions. The app with this extension could be published on the Shopify App store.\"}),(0,n.jsx)(e.p,{children:\"You should now have knowledge of:\"}),(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Generating an UI extension with the Shopify CLI\"}),`\n`,(0,n.jsx)(e.li,{children:\"How extension points affect the rendering of UI on the Checkout\"}),`\n`,(0,n.jsx)(e.li,{children:\"Using Checkout UI components\"}),`\n`,(0,n.jsx)(e.li,{children:\"Persisting data with metafields\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Controlling user navigation with the \",(0,n.jsx)(e.code,{children:\"useBuyerJourneyIntercept\"}),\" hook\"]}),`\n`]}),(0,n.jsxs)(e.p,{children:[\"Want to keep learning about Checkout UI extensions? Review how you can \",(0,n.jsx)(e.a,{href:\"https://shopify.dev/apps/checkout/localize-ui-extensions\",children:\"localize your extension UI\"}),\".\"]}),(0,n.jsxs)(e.dl,{children:[(0,n.jsx)(e.dt,{children:\"Positive\"}),(0,n.jsxs)(e.dd,{children:[\"To view the complete source code for this workshop, check out \",(0,n.jsx)(e.a,{href:\"https://github.com/Shopify/unite-workshop-checkout-ui\",children:\"this repo\"}),\".\"]})]})]})})]})]})}function v(s={}){let{wrapper:e}=s.components||{};return e?(0,n.jsx)(e,Object.assign({},s,{children:(0,n.jsx)(o,s)})):o(s)}var x=v;function d(s,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+s+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return k(I);})();\n;return Component;","frontmatter":{"summary":"Learn how to extend your Shopify checkout experience by adding a custom field to checkout with Checkout UI extensions.","id":"checkout-ui-custom-field","status":"Published","categories":"shopify,react","feedback-link":"https://github.com/Shopify/workshops","title":"Creating custom Shopify Checkout experiences with Checkout UI extensions"},"trackingEnabled":true},"routes/workshops":null},"actionData":null,"errors":null},"future":{"v2_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":false,"v2_meta":false,"v2_normalizeFormMethod":false,"v2_routeConvention":false}};</script><script type="module" async="">import "/build/manifest-0FD511F1.js";
import * as route0 from "/build/root-TS7GWK7I.js";
import * as route1 from "/build/routes/workshops-YWZAAF22.js";
import * as route2 from "/build/routes/workshops/$workshopId-TCVFMZD7.js";
window.__remixRouteModules = {"root":route0,"routes/workshops":route1,"routes/workshops/$workshopId":route2};

import("/build/entry.client-J6TYPMOL.js");</script></body></html>